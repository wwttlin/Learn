# 故障排除指南

## 🔧 "新增繳費記錄"按鈕沒有反應

### 已解決的問題
✅ **資料庫結構更新**：系統已自動備份舊的 payments 表並建立新的結構
✅ **後端 API 正常**：已測試 API 端點，可以正常新增繳費記錄
✅ **除錯資訊**：已添加詳細的日誌輸出

### 測試步驟

1. **檢查系統狀態**：
   - 前端：http://localhost:3000 ✅
   - 後端：http://localhost:5000 ✅

2. **檢查資料是否存在**：
   - 至少要有一個學生
   - 至少要有一個課程

3. **使用瀏覽器開發者工具**：
   - 按 F12 開啟開發者工具
   - 切換到 Console 標籤
   - 嘗試新增繳費記錄
   - 查看是否有錯誤訊息或日誌

### 如果仍有問題

1. **重新整理頁面**：按 Ctrl+F5 強制重新載入
2. **檢查網路連線**：確保前後端都在運行
3. **查看瀏覽器 Console**：檢查是否有 JavaScript 錯誤
4. **查看 Network 標籤**：檢查 API 請求是否發送成功

### 除錯資訊位置

- **前端日誌**：瀏覽器 Console (F12)
- **後端日誌**：終端機中的 nodemon 輸出

### 已知正常的測試資料

- **學生**：林煒鈞 (ID: 1)
- **課程**：兒童美語 (ID: 1, 季繳: NT$ 3,000)
- **測試繳費**：總金額 NT$ 3,000，訂金 NT$ 1,000

## 🚀 系統重啟步驟

如果需要完全重啟系統：

1. **停止所有服務**：
   - 在終端機按 Ctrl+C 停止前後端服務

2. **重新啟動**：
   ```bash
   # 啟動後端
   npm run server
   
   # 啟動前端（另一個終端）
   cd client && npm start
   ```

3. **驗證系統**：
   - 訪問 http://localhost:3000
   - 檢查是否能看到學生和課程資料
   - 嘗試新增繳費記錄